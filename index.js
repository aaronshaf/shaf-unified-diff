!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=n(1),l=r(i);customElements.define("shaf-unified-diff",l.default)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return t&&0===t.indexOf("@@")}Object.defineProperty(e,"__esModule",{value:!0});var l=n(2),a=r(l),u=n(4),o=r(u),s=n(3),c=r(s),f={" ":"context","+":"addition","-":"removal"};e.default=(0,a.default)({attributeChangedCallback:function(t,e,n){this.rendered&&this.updateRendering()},connectedCallback:function(){var t=this.querySelector("pre");t.style.display="none";for(var e=t.textContent,n=e.split("\n");!i(n[0]);)n.shift();var r=[],l=!0,a=!1,u=void 0;try{for(var s,h=n[Symbol.iterator]();!(l=(s=h.next()).done);l=!0){var g=s.value;i(g)?r.push({lines:[]}):f[g[0]]&&r[r.length-1].lines.push({type:f[g[0]],text:g.substr(1)})}}catch(t){a=!0,u=t}finally{try{!l&&h.return&&h.return()}finally{if(a)throw u}}this.container=document.createElement("div"),document.body.attachShadow&&(this.container=this.container.attachShadow({mode:"open"}));var d=!0,v=!1,p=void 0;try{for(var b,y=r[Symbol.iterator]();!(d=(b=y.next()).done);d=!0){var m=b.value;m.lines.forEach(function(t,e,n){if("removal"===t.type){var r=(0,o.default)(t.text,n[e+1].text);r<10&&(t.hidden=!0,n[e+1].diff=(0,c.default)(t.text,n[e+1].text))}})}}catch(t){v=!0,p=t}finally{try{!d&&y.return&&y.return()}finally{if(v)throw p}}var E=!0,x=!1,C=void 0;try{for(var A,M=r[Symbol.iterator]();!(E=(A=M.next()).done);E=!0){var w=A.value,k=document.createElement("div");k.className="chunk";var O=!0,S=!1,F=void 0;try{for(var L,T=function(){var t=L.value;if(t.hidden)return"continue";var e=document.createElement("div");e.className="line";var n=[];t.diff?t.diff.forEach(function(t){var e=void 0;t[0]===c.default.INSERT?(e=document.createElement("ins"),e.style.backgroundColor="#EAFFEA"):t[0]===c.default.DELETE?(e=document.createElement("del"),e.style.backgroundColor="#FFECEC"):e=document.createElement("span"),e.textContent=t[1],n.push(e)}):"addition"===t.type?(n.push(document.createElement("ins")),n[0].style.backgroundColor="#EAFFEA",n[0].style.textDecoration="inherit",n[0].textContent=t.text):"removal"===t.type?(n.push(document.createElement("del")),n[0].style.backgroundColor="#FFECEC",n[0].textContent=t.text):(n.push(document.createElement("span")),n[0].textContent=t.text),n.forEach(function(t){e.appendChild(t)}),k.appendChild(e),k.style.fontFamily='Consolas, "Liberation Mono", Menlo, Courier, monospace;',k.style.whiteSpace="pre"},_=w.lines[Symbol.iterator]();!(O=(L=_.next()).done);O=!0){T()}}catch(t){S=!0,F=t}finally{try{!O&&_.return&&_.return()}finally{if(S)throw F}}if(this.container.appendChild(k),r[r.length-1]!==w){var R=document.createElement("hr");this.container.appendChild(R)}}}catch(t){x=!0,C=t}finally{try{!E&&M.return&&M.return()}finally{if(x)throw C}}this.appendChild(this.container)},updateRendering:function(){this.rendered=!0}})},function(t,e){function n(t){function e(){var t="undefined"!=typeof Reflect?Reflect.construct(HTMLElement,[],e):HTMLElement.call(Object.create(e.prototype));return t.initialize&&t.initialize(),t}return Object.setPrototypeOf(e,HTMLElement),e.prototype=Object.create(HTMLElement.prototype),Object.keys(t).forEach(function(n){e.prototype[n]=t[n]}),e}t.exports=n},function(t,e){function n(t,e,n){if(t==e)return t?[[v,t]]:[];(n<0||t.length<n)&&(n=null);var i=a(t,e),l=t.substring(0,i);t=t.substring(i),e=e.substring(i),i=u(t,e);var o=t.substring(t.length-i);t=t.substring(0,t.length-i),e=e.substring(0,e.length-i);var c=r(t,e);return l&&c.unshift([v,l]),o&&c.push([v,o]),s(c),null!=n&&(c=f(c,n)),c}function r(t,e){var r;if(!t)return[[d,e]];if(!e)return[[g,t]];var l=t.length>e.length?t:e,a=t.length>e.length?e:t,u=l.indexOf(a);if(u!=-1)return r=[[d,l.substring(0,u)],[v,a],[d,l.substring(u+a.length)]],t.length>e.length&&(r[0][0]=r[2][0]=g),r;if(1==a.length)return[[g,t],[d,e]];var s=o(t,e);if(s){var c=s[0],f=s[1],h=s[2],p=s[3],b=s[4],y=n(c,h),m=n(f,p);return y.concat([[v,b]],m)}return i(t,e)}function i(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),a=i,u=2*i,o=new Array(u),s=new Array(u),c=0;c<u;c++)o[c]=-1,s[c]=-1;o[a+1]=0,s[a+1]=0;for(var f=n-r,h=f%2!=0,v=0,p=0,b=0,y=0,m=0;m<i;m++){for(var E=-m+v;E<=m-p;E+=2){var x,C=a+E;x=E==-m||E!=m&&o[C-1]<o[C+1]?o[C+1]:o[C-1]+1;for(var A=x-E;x<n&&A<r&&t.charAt(x)==e.charAt(A);)x++,A++;if(o[C]=x,x>n)p+=2;else if(A>r)v+=2;else if(h){var M=a+f-E;if(M>=0&&M<u&&s[M]!=-1){var w=n-s[M];if(x>=w)return l(t,e,x,A)}}}for(var k=-m+b;k<=m-y;k+=2){var w,M=a+k;w=k==-m||k!=m&&s[M-1]<s[M+1]?s[M+1]:s[M-1]+1;for(var O=w-k;w<n&&O<r&&t.charAt(n-w-1)==e.charAt(r-O-1);)w++,O++;if(s[M]=w,w>n)y+=2;else if(O>r)b+=2;else if(!h){var C=a+f-k;if(C>=0&&C<u&&o[C]!=-1){var x=o[C],A=a+x-C;if(w=n-w,x>=w)return l(t,e,x,A)}}}}return[[g,t],[d,e]]}function l(t,e,r,i){var l=t.substring(0,r),a=e.substring(0,i),u=t.substring(r),o=e.substring(i),s=n(l,a),c=n(u,o);return s.concat(c)}function a(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,l=0;n<i;)t.substring(l,i)==e.substring(l,i)?(n=i,l=n):r=i,i=Math.floor((r-n)/2+n);return i}function u(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,l=0;n<i;)t.substring(t.length-i,t.length-l)==e.substring(e.length-i,e.length-l)?(n=i,l=n):r=i,i=Math.floor((r-n)/2+n);return i}function o(t,e){function n(t,e,n){for(var r,i,l,o,s=t.substring(n,n+Math.floor(t.length/4)),c=-1,f="";(c=e.indexOf(s,c+1))!=-1;){var h=a(t.substring(n),e.substring(c)),g=u(t.substring(0,n),e.substring(0,c));f.length<g+h&&(f=e.substring(c-g,c)+e.substring(c,c+h),r=t.substring(0,n-g),i=t.substring(n+h),l=e.substring(0,c-g),o=e.substring(c+h))}return 2*f.length>=t.length?[r,i,l,o,f]:null}var r=t.length>e.length?t:e,i=t.length>e.length?e:t;if(r.length<4||2*i.length<r.length)return null;var l,o=n(r,i,Math.ceil(r.length/4)),s=n(r,i,Math.ceil(r.length/2));if(!o&&!s)return null;l=s?o&&o[4].length>s[4].length?o:s:o;var c,f,h,g;t.length>e.length?(c=l[0],f=l[1],h=l[2],g=l[3]):(h=l[0],g=l[1],c=l[2],f=l[3]);var d=l[4];return[c,f,h,g,d]}function s(t){t.push([v,""]);for(var e,n=0,r=0,i=0,l="",o="";n<t.length;)switch(t[n][0]){case d:i++,o+=t[n][1],n++;break;case g:r++,l+=t[n][1],n++;break;case v:r+i>1?(0!==r&&0!==i&&(e=a(o,l),0!==e&&(n-r-i>0&&t[n-r-i-1][0]==v?t[n-r-i-1][1]+=o.substring(0,e):(t.splice(0,0,[v,o.substring(0,e)]),n++),o=o.substring(e),l=l.substring(e)),e=u(o,l),0!==e&&(t[n][1]=o.substring(o.length-e)+t[n][1],o=o.substring(0,o.length-e),l=l.substring(0,l.length-e))),0===r?t.splice(n-i,r+i,[d,o]):0===i?t.splice(n-r,r+i,[g,l]):t.splice(n-r-i,r+i,[g,l],[d,o]),n=n-r-i+(r?1:0)+(i?1:0)+1):0!==n&&t[n-1][0]==v?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,l="",o=""}""===t[t.length-1][1]&&t.pop();var c=!1;for(n=1;n<t.length-1;)t[n-1][0]==v&&t[n+1][0]==v&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;c&&s(t)}function c(t,e){if(0===e)return[v,t];for(var n=0,r=0;r<t.length;r++){var i=t[r];if(i[0]===g||i[0]===v){var l=n+i[1].length;if(e===l)return[r+1,t];if(e<l){t=t.slice();var a=e-n,u=[i[0],i[1].slice(0,a)],o=[i[0],i[1].slice(a)];return t.splice(r,1,u,o),[r+1,t]}n=l}}throw new Error("cursor_pos is out of bounds!")}function f(t,e){var n=c(t,e),r=n[1],i=n[0],l=r[i],a=r[i+1];if(null==l)return t;if(l[0]!==v)return t;if(null!=a&&l[1]+a[1]===a[1]+l[1])return r.splice(i,2,a,l),h(r,i,2);if(null!=a&&0===a[1].indexOf(l[1])){r.splice(i,2,[a[0],l[1]],[0,l[1]]);var u=a[1].slice(l[1].length);return u.length>0&&r.splice(i+2,0,[a[0],u]),h(r,i,3)}return t}function h(t,e,n){for(var r=e+n-1;r>=0&&r>=e-1;r--)if(r+1<t.length){var i=t[r],l=t[r+1];i[0]===l[1]&&t.splice(r,2,[i[0],i[1]+l[1]])}return t}var g=-1,d=1,v=0,p=n;p.INSERT=d,p.DELETE=g,p.EQUAL=v,t.exports=p},function(t,e){"use strict";var n=[],r=[];t.exports=function(t,e){if(t===e)return 0;var i=t.length,l=e.length;if(0===i)return l;if(0===l)return i;for(var a,u,o,s,c=0,f=0;c<i;)r[c]=t.charCodeAt(c),n[c]=++c;for(;f<l;)for(a=e.charCodeAt(f),o=f++,u=f,c=0;c<i;c++)s=a===r[c]?o:o+1,o=n[c],u=n[c]=o>u?s>u?u+1:s:s>o?o+1:s;return u}}]);